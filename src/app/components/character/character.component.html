<div class="h-[calc(100vh-64px)] bg-custom-bg text-custom-text overflow-hidden">
    @if (characterService.loading()) {
    <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-40">
        <div role="status">
            <img src="assets/icons/loading-spinner.svg" alt="Loading..." class="w-16 h-16">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    } @else if (characterService.error()) {
    <div class="absolute inset-0 flex items-center justify-center bg-black bg-opacity-50 z-40">
        <div class="bg-red-500 text-white p-4 rounded-lg">
            {{ characterService.error() }}
        </div>
    </div>
    } @else if (characterService.isDataAvailable()) {
    <div class="relative h-full">
        @if (getMainRawImage()) {
        <div class="absolute inset-0 overflow-hidden">
            <img [src]="getMainRawImage()" alt="Character Image"
                class="w-full h-full object-cover opacity-70 animate-fade-in-1">
        </div>
        }

        <div class="relative h-full overflow-y-auto">
            @if (hasEquippedItems) {
            <div class="flex flex-wrap justify-between p-4">
                <div class="w-full md:w-5/12 space-y-4">
                    @for (item of getLeftColumnItems(); track $index) {
                    <div class="animate-fade-in-right animate-delay-{{ $index * 100 }}">
                        <app-equipment-card [item]="item" [isRightColumn]="false"></app-equipment-card>
                    </div>
                    }
                </div>
                <div class="w-full md:w-5/12 space-y-4">
                    @for (item of getRightColumnItems(); track $index) {
                    <div class="animate-fade-in-left animate-delay-{{ ($index + 8) * 100 }}">
                        <app-equipment-card [item]="item" [isRightColumn]="true"></app-equipment-card>
                    </div>
                    }
                </div>
            </div>
            } @else {
            <p class="text-custom-text p-4">No equipment data available.</p>
            }
        </div>
    </div>
    } @else {
    <p class="text-custom-text p-4">No character data available. Please fetch a character.</p>
    }
</div>
